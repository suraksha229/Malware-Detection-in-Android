# Load libraries
from sklearn.datasets import load_iris
from sklearn.feature_selection import SelectKBest
from sklearn.feature_selection import chi2
from csv import reader

import pandas

 
import numpy as np

from pandas import read_csv
from sklearn.feature_selection import RFE
from sklearn.linear_model import LogisticRegression

url ="/Users/rajgaurikhemnar/Desktop/15IT133_15IT147_M2/train_file1.csv"



names = ['com.dlto.atom.launcher.permission.WRITE_SETTINGS','freedom71.banglachotigolpo2.permission.C2D_MESSAGE','com.sonymobile.media.permission.TILES_ACCESS','com.channelstv.channels.mobile.permission.C2D_MESSAGE','com.amazon.CONTENT_PROVIDER_ACCESS','android.permission.ACCESS_LOCATTON_MOCK_LOCATION','com.citymapper.app.release.permission.C2D_MESSAGE','com.amazon.dcp.sso.permission.AMAZON_ACCOUNT_PROPERTY','com.microsoft.launcher.permission.C2D_MESSAGE','android.permission.READ_SYNC_STATS','android.permission.INTERNET','com.onexsoftech.aroundme.permission.MAPS_RECEIVE','com.cnn.mobile.android.phone.permission.C2D_MESSAGE','com.ivengi.backup.permission.C2D_MESSAGE','com.ksmobile.launcher.plugin.unread.permission.READ','com.htc.permission.APP_PLATFORM','metro.win.launcherplus.permission.C2D_MESSAGE','com.sec.chaton.push.BROADCAST_PUSH_MESSAGE','com.acintyo.bykup.permission.MAPS_RECEIVE','com.appside.bongcal.permission.C2D_MESSAGE','com.sec.chaton.provider.WRITE_PERMISSION','com.amazon.dcp.sso.permission.USE_DEVICE_CREDENTIALS','com.bartaman.patrika.permission.C2D_MESSAGE','android.permission.ACCESS_CACHE_FILESYSTEM','android.permission.DUMP','vStudio.Android.Camera360.permission.C2D_MESSAGE','com.wAppzmob.permission.C2D_MESSAGE','android.permission.READ_FRAME_BUFFER','com.samsung.wmanager.ENABLE_NOTIFICATION','kr.co.openit.bpdiary.permission.C2D_MESSAGE','in.AajTak.headlines.permission.C2D_MESSAGE','com.android.permission.mewidget_contact','com.lw.wp8xlauncher.permission.C2D_MESSAGE','com.motorola.dlauncher.permission.INSTALL_SHORTCUT','com.samsung.android.providers.context.permission.WRITE_USE_APP_FEATURE_SURVEY','com.goodbarber.v2.permission.MAPS_RECEIVE','com.ksmobile.launcher.permission.WRITE_SETTINGS','com.meitu.beautyplusme.permission.C2D_MESSAGE','com.cyworld.camera.permission.C2D_MESSAGE','android.permission.READ_CONTACTS','uk.co.sevendigital.android.permission.C2D_MESSAGE','cm.clean.master.ram.du.speed.booster.permission.C2D_MESSAGE','com.contapps.android.permission.C2D_MESSAGE','com.AppInstitute.bookadoc.permission.C2D_MESSAGE','com.callapp.contacts.permission.C2D_MESSAGE','android.permission.SET_PREFERRED_APPLICATIONS','android.permission.WRITE_PROFILE','com.android.cmlauncher.permission.READ_SETTINGS','air.com.epic.bengalipanjika.permission.C2D_MESSAGE','android.permission.SET_WALLPAPER_HINTS','com.commsource.beautyplus.permission.C2D_MESSAGE','android.permission.MODIFY_PHONE_STATE','android.permission.CONTROL_LOCATION_UPDATES','com.jaredco.calleridpro.permission.C2D_MESSAGE','huawei.android.permission.HW_SIGNATURE_OR_SYSTEM','android.permission.REBOOT','com.cmcm.locker.permission.C2D_MESSAGE','com.airbit.soft.siii.lwp.permission.C2D_MESSAGE','com.gydala.allcars.permission.C2D_MESSAGE','android.permission.BROADCAST_PACKAGE_REMOVED','android.permission.DELETE_CACHE_FILES','android.permission.NETWORK','com.amazon.dcp.sso.permission.CUSTOMER_ATTRIBUTE_SERVICE','com.qihoo360.screenlock.permission.READ_LOCAL_THEME','org.fruct.yar.bloodpressuredary.READ_PROVIDER','android.permission.WRITE_SETTINGS','android.permission.MANAGE_APP_TOKENS','com.meizu.flyme.launcher.permission.READ_SETTINGS','com.tofugames.taoufiqlotfi.DepressionHelpAndTips.permission.C2D_MESSAGE','com.cam001.selfie361.permission.MIPUSH_RECEIVE','com.sirma.mobile.bible.android.permission.C2D_MESSAGE','us.pinguo.selfie.permission.C2D_MESSAGE','com.superapps.browser.permission.ACCESS_DOWNLOAD_MANAGER_ADVANCED','com.google.android.c2dm.permission.SEND','com.google.android.apps.photos.permission.GOOGLE_PHOTOS','pioneer.permission.appradio.ADVANCED_APPMODE','android.permission.READ_SECURE_SETTINGS','com.couchgram.privacycall.permission.C2D_MESSAGE','cm.clean.master.ram.du.speed.booster.permission.ANTI_VIRUS','com.gm.despegar.permission.C2D_MESSAGE','com.ticktockapps.android_wallpapers.permission.C2D_MESSAGE','com.abclauncher.launcher.permission.RECEIVE_LAUNCH_BROADCASTS','android.permission.INTERACT_ACROSS_USERS_FULL','android.permission.CLEAR_APP_USER_DATA','com.mixvibes.crossdjfree.permission.C2D_MESSAGE','com.majeur.launcher.permission.UPDATE_BADGE','com.bbk.launcher2.permission.WRITE_SETTINGS','android.permission.ACCESS_GPS','android.permission.READ_INTERNAL_STORAGE','android.permission.C2D_MESSAGE','com.htc.launcher.permission.WRITE_SETTINGS','android.permission.DOWNLOAD_WITHOUT_NOTIFICATION','android.permission.RECEIVE_BOOT_COMPLETED','android.permission.FLASHLIGHT','android.permission.READ_PHONE_STATE','com.dlto.atom.launcher.permission.READ_SETTINGS','com.jobportal.allgovernmentjob.permission.C2D_MESSAGE','com.amazon.STORE_ACCESS','com.vserv.asianet.permission.C2D_MESSAGE','com.nll.acr.permission.C2D_MESSAGE','in.adityamusic.dhruva.permission.C2D_MESSAGE','android.permission.RECEIVE_MMS','android.permission.WAKE_LOCK','com.google.android.sdk.permission.RECEIVE','android.permission.BIND_INPUT_METHOD','rockchip.permission.FULL_SCREEN','android.permission.GET_ACCOUNTS','android.permission.CHANGE_NETWORK_STATE','com.azarlive.android.permission.C2D_MESSAGE','android.permission.DISABLE_KEYGUARD','com.sec.spp.permission.PUSH_SERVICE_PROVIDER','android.permission.WRITE_MEDIA_STORAGE','com.motorola.dlauncher.permission.READ_SETTINGS','com.zeenews.bengalinews.permission.C2D_MESSAGE','com.aryservices.arynews.en.permission.C2D_MESSAGE','com.abclauncher.launcher.permission.READ_SETTINGS','ru.dublgis.dgismobile.permission.C2D_MESSAGE','praeeotechsolutions.dentalhealthclinicpune.permission.C2D_MESSAGE','at.itagents.ta.CENTRAL_SERVICE_PERMISSION','com.app.abhibus.permission.C2D_MESSAGE','com.coolots.chatonv.permission.provider.LIVE_SHARE','com.amazon.dcp.config.permission.DYN_CONFIG_VALUES_UPDATED','android.permission.BLUETOOTH_ADMIN','android.permission.READ_APN_SETTINGS','android.permission.PERSISTENT_ACTIVITY','com.android.mylauncher.permission.READ_SETTINGS','com.chrome.permission.DEVICE_EXTRAS','android.permission.RECEIVE_WAP_PUSH','com.ogqcorp.bgh.permission.C2D_MESSAGE','android.permission.SET_WALLPAPER','com.applecamera.free.permission.C2D_MESSAGE','com.apusapps.launcher.permission.APUS','android.permission.GET_PACKAGE_SIZE','browser4g.fast.internetwebexplorer.permission.C2D_MESSAGE','com.cyworld.camera.permission.MAPS_RECEIVE','org.simalliance.openmobileapi.SMARTCARD','com.software.android.install.permission.C2D_MESSAGE','com.jakarta.baca.permission.C2D_MESSAGE','.permission.MAPS_RECEIVE','android.hardware.camera','com.teslacoilsw.launcher.permission.READ_SETTINGS','cellfish.spidermanlwp.permission.C2D_MESSAGE','android.permission.MOUNT_FORMAT_FILESYSTEMS','com.domobile.applock.PERMISSON_STOP_WATCHDOG_AFTER_SCREEN_OFF','android.permission.MOUNT_UNMOUNT_FILESYSTEMS','s.HD_live_wallpaper.cell_phone_location_tracker.permission.C2D_MESSAGE','com.huawei.android.launcher.permission.WRITE_SETTINGS','com.cleanmaster.mguard.permission.C2D_MESSAGE','android.permission.FORCE_BACK','com.abclauncher.launcher.permission.WRITE_SETTINGS','jp.kyocera.kyocerahome.launcher.permission.READ_SETTINGS','com.google.android.c2dm.permission.RECEIVE','com.lge.launcher.permission.INSTALL_SHORTCUT','com.android.browser.permission.WRITE_HISTORY_BOOKMARKS','android.permission.ADD_SYSTEM_SERVICE','com.tct.launcher.permission.READ_SETTINGS','android.permission.WRITE_CALL_LOG','com.sec.chaton.error','android.permission.SET_TIME_ZONE','com.nd.android.launcher91.permission.READ_SETTINGS','com.apusapps.tools.unreadtips.permission.CALLSERVICE','android.permission.QUICKBOOT_POWERON','amazon.permission.COLLECT_METRICS','android.permission.SET_ORIENTATION','android.permission.BROADCAST_STICKY','android.permission.MANAGE_DOCUMENTS','com.digitalborder.webappessentials.permission.C2D_MESSAGE','com.epi.permission.C2D_MESSAGE','android.permission.DISABLE_STATUS_BAR','com.mmagneticcompass.mthreemarinecompass.permission.C2D_MESSAGE','android.permission.STORAGE','android.permission.CALL_PRIVILEGED','com.sec.chaton','com.anddoes.notifier.permission.READ_NOTIFICATIONS','android.permission.BRICK','ctrip.english.permission.C2D_MESSAGE','com.appeteria.battery100alarm.permission.C2D_MESSAGE','android.permission.CHANGE_WIFI_STATE','android.permission.RECEIVE_SMS','com.accor.appli.hybrid.permission.C2D_MESSAGE','com.amazon.dcp.sso.permission.account.changed','android.permission.WRITE_CALENDAR','android.permission.ACCOUNT_MANAGER','android.permission.PROCESS_INCOMING_CALLS','android.permission.SET_ANIMATION_SCALE','com.nd.android.launcher91.permission.C2D_MESSAGE','android.permission.SET_PROCESS_LIMIT','com.winit.starnews.hin.permission.C2D_MESSAGE','android.permission.READ_EXTERNAL_STORAGE','com.kniusw.phoneloc.permission.C2D_MESSAGE','android.permission.INSTALL_DRM','com.qihoo.security.permission.C2D_MESSAGE','com.contapps.android.permission.MAPS_RECEIVE','com.garvi.cricketworld.permission.C2D_MESSAGE','com.sonyericsson.homescreen.permission.READ_SETTINGS','com.android.vending.CHECK_LICENSE','com.kathos.photosketch.pencilsketch.permission.C2D_MESSAGE','com.google.android.launcher.permission.WRITE_SETTINGS','com.sec.chaton.smsplugin.provider.WRITE_PERMISSION','com.cyngn.browser.permission.WRITE_HOMEPAGE','android.permission.MASTER_CLEAR','com.kakao.home.permission.READ_SETTINGS','com.android.launcher.permission.WRITE_SETTINGS','com.nip.cennoticias.permission.C2D_MESSAGE','com.fotoable.applock.permission.C2D_MESSAGE','com.sonyericsson.home.permission.BROADCAST_BADGE','com.amazon.kindle.socialsharing.PERMISSION_SHARE','android.permission.ACCESS_COARSE_UPDATES','com.android.chrome.permission.READ_WRITE_BOOKMARK_FOLDERS','android.permission.FACTORY_TEST','com.qihoo.security.PERMISSION','com.delhi.metro.dtc.permission.C2D_MESSAGE','com.sraoss.dmrc.permission.MAPS_RECEIVE','com.oppo.launcher.permission.READ_SETTINGS','com.android.vending.BILLING','android.permission.SUBSCRIBED_FEEDS_READ','android.permission.WRITE_CONTACTS','com.apusapps.tools.notification.permission.NOTIFICATION','android.permission.BIND_REMOTEVIEWS','android.permission.RECEIVE_USER_PRESENT','android.permission.ACTION_MANAGE_OVERLAY_PERMISSION','com.booking.permission.RECEIVER','android.permission.DELETE_PACKAGES','android.permission.ACCESS_CHECKIN_PROPERTIES','org.adwfreak.launcher.permission.READ_SETTINGS','com.modomodo.mobile.matm.permission.C2D_MESSAGE','com.diabetescontrol.permission.C2D_MESSAGE','android.permission.VIBRATE','android.permission.DIAGNOSTIC','com.amazon.android.permission.ACCESS_DOWNLOAD_MANAGER','com.android.launcher2.permission.READ_SETTINGS','com.coolots.permission.COOLOTS_CANADA','android.permission.ACCESS_SUPERUSER','android.permission.BROADCAST_SMS','android.permission.ACCESS_WIFI_STATE','android.permission.GLOBAL_SEARCH_CONTROL','com.app.pcollage.permission.C2D_MESSAGE','com.android.launcher3.permission.WRITE_SETTINGS','com.fotoable.coolart.permission.C2D_MESSAGE','com.jakata.baca.permission.C2D_MESSAGE','com.motorola.blur.contacts.permission.SOCIAL_CONTACT_READ','android.permission.READ_USER_DICTIONARY','android.permission.WRITE_OWNER_DATA','android.permission.CHANGE_COMPONENT_ENABLED_STATE','android.permission.NETWORK_ACCESS','com.cam001.selfie361.permission.C2D_MESSAGE','android.permission.EXPAND_STATUS_BAR','com.sec.spp.permission.TOKEN_13b9cdc89f21278b87e0488ad5efb298532ad60905603d81a5145b0a03ce869cca937166ae9a01578767a15e8a36b9cc849a1de35bdc3facc1512f316ef9d09467c514442069ec167c16a8c8e67a4c641fc8d4b6394660a151f95a04e5c397de36c8df48dfbe0d12c45e76e6ca5a21f595994dd136023407173f9b983e2fa208','android.permission.PACKAGE_USAGE_STATS','android.permission.REORDER_TASKS','com.amazon.identity.permission.CAN_CALL_MAP_INFORMATION_PROVIDER','android.permission.READ_CALL_LOG','com.danvanthiri.patient.permission.C2D_MESSAGE','android.permission.CONTROL_INCALL_EXPERIENCE','com.bbm.permission.C2D_MESSAGE','com.superapps.browser.permission.ACCESS_DOWNLOAD_MANAGER','android.permission.INSTALL_PACKAGES','com.pixodigital.bimari.permission.C2D_MESSAGE','com.polysoftstudios.son.carkeysimulatorprankfree.permission.C2D_MESSAGE','com.amazon.dcp.sso.permission.AmazonAccountPropertyService.property.changed','com.amazon.dcp.settings.permission.READ_SETTINGS','android.permission.READ_SMS','com.qihoo.antivirus.update.permission.i18n_security_lite','com.antivirus.permission.C2D_MESSAGE','android.permission.CLEAR_APP_CACHE','com.android.launcher3.permission.INSTALL_SHORTCUT','com.winit.burrp.permission.C2D_MESSAGE','com.google.android.providers.gsf.permission.READ_GSERVICES','hr.interactive.sdk.permission.C2D_MESSAGE','android.permission.USES_POLICY_FORCE_LOCK','com.contapps.android.permission.SHORTCUT','com.touchtalent.bobbleapp.permission.C2D_MESSAGE','com.telestar.voicechangeip.permission.C2D_MESSAGE','android.permission.HARDWARE_TEST','android.permission.ACCESS_DOWNLOAD_MANAGER_ADVANCED','com.android.launcher.permission.INSTALL_SHORTCUT','com.sec.android.app.gallery3d.READ','android.permission.LOCATION','android.webkit.permission.PLUGIN','de.hafas.android.db.permission.C2D_MESSAGE','com.smsolutions.btvnews.permission.C2D_MESSAGE','com.amazon.identity.permission.GENERIC_IPC','com.amazon.kindle.permission.C2D_MESSAGE','com.dengansepenuh.larakne.permission.C2D_MESSAGE','com.ksmobile.launcher.permission.C2D_MESSAGE','android.permission.WRITE_SECURE_SETTINGS','android.permission.READ_OWNER_DATA','com.data.metro.services.permission.C2D_MESSAGE','android.permission.SYSTEM_ALERT_WINDOW','com.dondu.bloodtestresults.permission.C2D_MESSAGE','teknoapps.dev.atmnearby.permission.MAPS_RECEIVE','bbc.mobile.news.ww.permission.C2D_MESSAGE','net.qihoo.launcher.permission.READ_SETTINGS','om.android.launcher.permission.INSTALL_SHORTCUT','com.dd.amarujala.permission.C2D_MESSAGE','com.cool.sms.permission.SERVICE','com.qihoo.antivirus.update.permission.i18n_security','android.permission.SET_ALARM','com.abclauncher.launcher.permission.RECEIVE_FIRST_LOAD_BROADCAST','android.permission.BROADCAST_WAP_PUSH','com.qihoo360.screenlock.permission.WRITE_LOCAL_THEME','android.permission.ACCESS_NETWORK_STATE','android.provider.MediaStore.ACTION_IMAGE_CAPTURE','com.google.android.gm.permission.READ_CONTENT_PROVIDER','com.htc.launcher.permission.READ_SETTINGS','com.appollocreative.callapps.gcm.permission.C2D_MESSAGE','teknoapps.atmfinder.permission.C2D_MESSAGE','com.careem.acma.permission.C2D_MESSAGE','android.permission.BIND_APPWIDGET','com.amazon.dcp.sso.permission.MANAGE_COR_PFM','android.permission.INSTALL_LOCATION_PROVIDER','com.amazon.kindle.otter.settings.RECEIVE_GOODREADS_UNLINK','com.vladlee.easyblacklist.permission.C2D_MESSAGE','com.kaldwi.jagrandesigns.permission.C2D_MESSAGE','com.motorola.launcher.permission.READ_SETTINGS','com.musicplayer.music.permission.C2D_MESSAGE','com.overtatech.bassbooster.permission.C2D_MESSAGE','com.android.chrome.TOS_ACKED','com.gto.zero.zboost.permission.SERVICE','com.simulatormedicalapps.bloodsugartestprank01.permission.C2D_MESSAGE','android.permission.MODIFY_AUDIO_SETTINGS','android.permission.RECORD_VIDEO','com.programming.progressive.diagnoseapp.permission.C2D_MESSAGE','android.permission.READ_SYNC_SETTINGS','android.permission.READ_LOGS','com.aranoah.healthkart.plus.permission.C2D_MESSAGE','com.careem.acma.permission.MAPS_RECEIVE','com.lab126.downloads.DOWNLOAD_SVC_CLIENT_CONNECT','com.cleartrip.android.permission.C2D_MESSAGE','android.permission.FULLSCREEN','com.amazon.permission.FORCE_AUTH_ACCT','android.permission.NFC','com.qihoo.security.lite.PERMISSION','de.hafas.android.db.permission.MAPS_RECEIVE','com.sraoss.dmrc.permission.C2D_MESSAGE','com.antivirus.PAYMENT_BROADCAST_PERMISSION','android.permission.CAPTURE_AUDIO_OUTPUT','android.permission.GET_TASKS','com.htc.launcher.permission.UPDATE_SHORTCUT','android.permission.WRITE_APN_SETTINGS.','android.permission.MEDIA_CONTENT_CONTROL','com.sexy_girls.nice_ass.permission.C2D_MESSAGE','android.permission.MANAGE_USERS','android.permission.CALL_PHONE','com.anddoes.launcher.permission.READ_SETTINGS','android.net.conn.CONNECTIVITY_CHANGE','getui.permission.GetuiService','com.ak.ta.dainikbhaskar.activity.permission.C2D_MESSAGE','android.permission.SYSTEM_OVERLAY_WINDOW','android.permission.KILL_BACKGROUND_PROCESSES','com.superapps.browser.permission.SEND_DOWNLOAD_COMPLETED_INTENTS','android.permission.ACCESS_WEATHERCLOCK_PROVIDER','com.bbk.launcher2.permission.READ_SETTINGS','com.sec.android.provider.badge.permission.READ','com.android.launcher.permission.UNINSTALL_SHORTCUT','android.permission.ACCESS_MOCK_LOCATION','android.permission.ACCESS_COARSE_LOCATION','com.coolots.chatonv.permission.provider.LIVE_SHARE_CANADA','android.permission.ACCES_MOCK_LOCATION','android.permission.USE_CREDENTIALS','com.curofy.permission.C2D_MESSAGE','android.permission.DEVICE_POWER','com.sec.android.app.factorymode.permission.KEYSTRING','com.jp.jagran.permission.C2D_MESSAGE','com.lenovo.launcher.permission.READ_SETTINGS','com.linecorp.b612.android.permission.C2D_MESSAGE','deezer.android.app.permission.C2D_MESSAGE','com.dianxinos.dxhome.permission.READ_SETTINGS','com.acintyo.bykup.permission.C2D_MESSAGE','com.sirma.mobile.bible.android.permission.RECEIVE_ADM_MESSAGE','com.vs.launcher.threed.free.permission.WRITE_SETTINGS','com.coolots.permission.COOLOTS','android.permission.INTERNAL_SYSTEM_WINDOW','com.audible.hushpuppy.tablet.permission.COMPANION_MAPPING','com.cyou.elegant.permission.ACCESS_RPOVIDER','com.anddoes.launcher.permission.WRITE_SETTINGS','com.dreamstep.webWidget.wSpyBubble.permission.C2D_MESSAGE','android.permission.SET_ACTIVITY_WATCHER','com.cyanogenmod.trebuchet.permission.READ_SETTINGS','com.clock.analogclockwidget.permission.C2D_MESSAGE','com.huawei.android.launcher.permission.READ_SETTINGS','com.qihoo360.launcher.permission.READ_SETTINGS','com.raytechnos.aartisangrah.permission.C2D_MESSAGE','com.android.chrome.permission.C2D_MESSAGE','android.permission.INJECT_EVENTS','android.permission.READ_CALENDAR','org.adw.launcher_donut.permission.READ_SETTINGS','com.huawei.android.launcher.permission.CHANGE_BADGE','com.sec.enterprise.knox.MDM_CONTENT_PROVIDER','android.permission.CHANGE_CONFIGURATION','com.sec.android.provider.badge.permission.WRITE','android.permission.BIND_DREAM_SERVICE','android.permission.SEND_DOWNLOAD_COMPLETED_INTENTS','android.permission.RAISED_THREAD_PRIORITY','app.pnd.fourg.permission.C2D_MESSAGE','net.qihoo.clockweather.permission.READ_WEATHER','android.permission.BLUETOOTH_PRIVILEGED','android.permission.CHANGE_WIFI_MULTICAST_STATE','com.android.launcher3.permission.UNINSTALL_SHORTCUT','com.amazon.android.permission.DOWNLOAD_WITHOUT_NOTIFICATION','com.cool.sms.permission.C2D_MESSAGE','com.sfr.android.console.permission.partner.READ_STATISTICS','com.freebasicapp.landscape.butterflyphotoframes.pv1.permission.C2D_MESSAGE','android.permission.WRITE_SYNC_SETTINGS','android.permission.WRITE_GSERVICES','com.sonymobile.home.permission.PROVIDER_INSERT_BADGE','com.masala.susyimes.holga.permission.JPUSH_MESSAGE','sstream.app.StoryProvider.WRITE.PERMISSION','com.cyngn.browser.permission.READ_HOMEPAGE','com.sony.mobile.permission.SYSTEM_UI_VISIBILITY_EXTENSION','com.ksmobile.launcher.permission.READ_SETTINGS','android.permission.ACCESS_LOCATION_EXTRA_COMMANDS','android.permission.ACCESS_ASSISTED_GPS','com.ss.go.locker.theme.launcher.ex.audione.permission.C2D_MESSAGE','android.permission.RECORD_AUDIO','android.permission.READ_PROFILE','com.masala.susyimes.holga.permission.C2D_MESSAGE','com.freebasicapp.landscape.bedroomphotoframes.pv1.permission.C2D_MESSAGE','com.app.bimari.permission.C2D_MESSAGE','com.callapp.contacts.permission.MAPS_RECEIVE','android.permission.SET_DEBUG_APP','com.ionicframework.banglamagicmaster842577.permission.C2D_MESSAGE','android.permission.BLUETOOTH','uk.co.sevendigital.installation.information.ACCESS','com.felink.android.launcher91.permission.READ_SETTINGS','com.sec.android.provider.logsprovider.permission.READ_LOGS','com.amazon.android.permission.ACCESS_DOWNLOAD_MANAGER_ADVANCED','android.permission.UPDATE_APP_OPS_STATS','com.applabb.daily.newshunt.india.hindi.permission.C2D_MESSAGE','com.android.launcher3.permission.READ_SETTINGS','android.permission.STATUS_BAR','android.permission.WRITE_USER_DICTIONARY','com.android.browser.permission.READ_HISTORY_BOOKMARKS','com.amazon.dcp.messaging.permission.HANDLE_DEVICE_MESSAGE','com.nd.android.launcher91.permission.WRITE_SETTINGS','android.permission.SEND_SMS','android.permission.ACCESS_LOCATION','android.permission.SIGNAL_PERSISTENT_PROCESSES','com.android.alarm.permission.SET_ALARM','android.permission.READ_INPUT_STATE','com.sec.chaton.provider.READ_PERMISSION','android.permission.WRITE_INTERNAL_STORAGE','android.permission.WRITE_SECURE','com.powertrix.booster.permission.C2D_MESSAGE','android.hardware.camera.flash','org.zeam.permission.READ_SETTINGS','com.tencent.qqlauncher.permission.READ_SETTINGS','com.vs.launcher.threed.free.permission.RECEIVE_LAUNCH_BROADCASTS','com.amazon.identity.permission.CALL_AMAZON_DEVICE_INFORMATION_PROVIDER','com.joeware.android.gpulumera.gcm.permission.C2D_MESSAGE','com.amazon.dcp.metrics.permission.METRICS_PERMISSION','com.felink.android.launcher91.permission.WRITE_SETTINGS','android.permission.WRITE_APN_SETTINGS','android.permission.ACCESS_SURFACE_FLINGER','android.permission.PROCESS_OUTGOING_CALLS','android.permission.UPDATE_DEVICE_STATS','com.wAnandabazarPatrikaa.permission.C2D_MESSAGE','com.sec.chaton.permission.C2D_MESSAGE','com.huawei.launcher2.permission.READ_SETTINGS','android.permission.MANAGE_ACCOUNTS','com.booking.permission.C2D_MESSAGE','android.permission.BIND_ACCESSIBILITY_SERVICE','com.amazon.identity.auth.device.perm.AUTH_SDK','com.wRuddyExecutive.permission.C2D_MESSAGE','com.huawei.android.totemweather.permission.ACCESS_WEATHERCLOCK_PROVIDER','android.permission.WRITE_SMS','com.amazon.kindle.cms.CMS_ACCESS','com.goodbarber.arynews.permission.C2D_MESSAGE','com.lab126.downloads.DOWNLOAD_CALLBACK_SVC','com.traber.blueappsender.permission.C2D_MESSAGE','com.android.ContactWidget.permission.WRITE_SETTINGS','com.vs.launcher.threed.free.permission.READ_SETTINGS','com.anddoes.launcher.permission.UPDATE_COUNT','com.anatomy.learning.atlas.free.permission.C2D_MESSAGE','com.tracker.mobilelocationnumbertracker.permission.C2D_MESSAGE','com.gm.despegar.permission.MAPS_RECEIVE','android.permission.INTERACT_ACROSS_USERS','com.zeenews.marathinews.permission.C2D_MESSAGE','com.motorola.launcher.permission.INSTALL_SHORTCUT','com.dictionary.bn.permission.C2D_MESSAGE','android.permission.SUBSCRIBED_FEEDS_WRITE','android.permission.CAMERA','com.the7art.clockwallpaperlib.permission.PUSH_MESSAGE_RECEIVE','android.permission.ACCESS_DOWNLOAD_MANAGER','com.coco.cpc.permission.C2D_MESSAGE','com.amazon.device.messaging.permission.RECEIVE','com.astonmartingolocker.theme.permission.C2D_MESSAGE','android.permission.RESTART_PACKAGES','com.ss.go.locker.theme.launcher.ex.blue.permission.C2D_MESSAGE','android.permiDiaLogActivityssion.GET_TASKS','jp.co.sharp.android.contacts.permission.READ_SECRET_CONTACTS','com.lazyswipe.permission.ACCESS_APPLICATION_DATA','com.noah.antivirus.permission.C2D_MESSAGE','com.nokia.pushnotifications.permission.RECEIVE','com.sonyericsson.homescreen.permission.WRITE_SETTINGS','com.myefrt.bapu.applock.secrt.permission.C2D_MESSAGE','com.amazon.appmanager.preload.permission.READ_PRELOAD_DEVICE_INFO_PROVIDER','android.permission.ACCESS_FINE_LOCATION','android.permission.USE_FINGERPRINT','android.permission.install_packages','com.jams.cityguide.permission.MAPS_RECEIVE','com.abclauncher.launcher.permission.C2D_MESSAGE','com.sec.chaton.smsplugin.provider.READ_PERMISSION','android.permission.WRITE_EXTERNAL_STORAGE','com.felink.android.launcher91.permission.C2D_MESSAGE','com.android.ContactWidget.permission.READ_SETTINGS','android.permission.AUTHENTICATE_ACCOUNTS','com.android.launcher.permission.READ_SETTINGS','mikey.photoeditor.boyphotoeditor.permission.C2D_MESSAGE','com.google.android.launcher.permission.READ_SETTINGS','com.amazon.kindle.cms.CMS_CALLBACK_ACCESS','com.chaatz.gcm.permission.C2D_MESSAGE','android.permission.BATTERY_STATS','com.google.android.gms.permission.ACTIVITY_RECOGNITION','android.permission.GLOBAL_SEARCH','com.fede.launcher.permission.READ_SETTINGS','hr.interactive.adele.adkins.videos.permission.C2D_MESSAGE','org.adw.launcher.permission.READ_SETTINGS','com.lge.launcher.permission.READ_SETTINGS','android.permission.SET_ALWAYS_FINISH','com.amazon.dcp.sso.permission.EXPIRE_ACCESS_TOKEN','android.hardware.camera.autofocus','com.sec.android.provider.logsprovider.permission.WRITE_LOGS','com.software.application.permission.C2D_MESSAGE','class']

dataframe = pandas.read_csv(url, names=names)



array = dataframe.values



X = array[:,0:500]

Y = array[:,500]


model = LogisticRegression()
rfe = RFE(model, 100)
fit1 = rfe.fit(X, Y)
sel=fit1.support_
#sel.tolist()
sel1=[]
f=open('top100.txt','w')
for word in sel:
	#sel1.append(word)
	#print word
	#print type(word)
	if word==1:
		#print '1'
		f.write('1')
		f.write(',')
	else:
		#print '0'
		f.write('0')
		f.write(',')
	#sel1.append(',')
f.close()
file=open('top100.txt','r')
data=[]
for row in file:
        data.append(row.split(','))
#print row[9]
d=[]
for i,x in enumerate(row):
	if(row[i]!=','):
		d.append(row[i])
		#print row[i]
#print d[9]
f=[]
#print len(d)
file1=open('data.csv','w')
for i,x in enumerate(d):
	#print d[i]
	if(d[i]=='1'):
		#print i
		f.append(names[i])
		file1.write(names[i])
		file1.write(',')
		#print names[i]
file1.write('class')
file1.write(',')
file1.write('\n')
#print len(f)
'''file2=open('train_file1.csv','r')
data1 = [[]]
i=0
for row in file2:
    row = row.strip("\n")
    data1.append(row.split(','))
    #print i
    i+=1
print len(data1)
data1.remove([])
for row in data1:
	print len(row)
	print type(row)
	for i,x in enumerate(d):
		if(d[i]=='1'):
			#print 'hi'
			q=0
			#file1.write(row[i])
			#file1.write(',')
	#file1.write(row[-1])
	#file1.write('\n')'''

dataset = list()
with open('train_file1.csv', 'r') as file3:
	csv_reader = reader(file3)
	for row in csv_reader:
		if not row:
			continue
		dataset.append(row)
file3.close()
for row in dataset:
	i=0
	for i,x in enumerate(d):
		if(d[i]=='1'):
			#print 'hi'
			i+=1
			file1.write(row[i])
			file1.write(',')
	#print row
	if (row[-2]=='1')	:
		file1.write('malware')
	elif(row[-2]=='0'):
		file1.write('benign')
	file1.write('\n')
	#print i

	